<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://thymeleaf.org/thymeleaf-extras-springsecurity3"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	lang="en"
	data-framework="angular-js">
	<title> Voting </title>
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"></link>
	<link href="css/app.css" rel="stylesheet"></link>
	<script type="text/javascript" src="js/libs/angular.js"></script>
	<script type="text/javascript" src="js/libs/angular-route.js"></script>
	<script type="text/javascript" src="js/app.js"></script>
	<script type="text/javascript" src="js/controllers/homeControl.js"></script>
	<body ng-app="voting">
	<ng-view />
	<script type="text/ng-template" id="home.html">
		<h1> Vote Online </h1>
		<button ng-click="switch()"> {{buttonMsg}} </button>
		<p class="error" ng-model="error">{{error}} </p>
		<div ng-show="signupForm">
			<h2> Register to Vote </h2>
			<label> Full Name </label> <input type="text" ng-model="signupName"/>
			<label> Password </label> <input type="password" ng-model="signupPassword"/>
			<label> Region Id </label> <input type="range" min="1" max="5" ng-model="signupRegionId"/>
			<button ng-click="signUp()"> sign up </button>
		</div>
		<div ng-show="!signupForm">
			<h2> Log In </h2> 
			<label> Full Name </label> <input type="text" ng-model="loginName"/>
			<label> Password </label> <input type="password" ng-model="loginPassword"/>
			<button ng-click="login()"> log in </button>
		</div>
		<button ng-click="logout()"></button>
	</script>
	<script type="text/ng-template" id="elections.html">
		<h1> Elections </h1>
		<p class="error" ng-model="error">{{error}} </p>
		<table ng-show="electionData">
			<tr>
			    <th>ID</th>
			    <th>Start Date</th>
			    <th>End Date</th>
			</tr>
			<tr ng-repeat="e in elections">
			    <td> <a ng-click="goToElection(e.id)">{{e.id}}</a> </td>
			    <td> {{e.startDate}} </td>
			    <td> {{e.endDate}} </td>
			</tr>
		</table>
		<p ng-show="!electionData"> no elections yet. </p>
		<button ng-click="logout()"></button>
	</script>
	<script type="text/ng-template" id="ballot.html">
		<h1> Ballot #{{ballotId}} </h1>
		<p class="error" ng-model="error">{{error}} </p>
		<div class="ballot" ng-show="questionData">
			<div class="question" ng-repeat="q in questions">
				<h2>#{{q.q.id + ". " + q.q.body }} </h2>
				<p> {{q.q.type }} </p>
				<ol>
					<li ng-repeat="c in q.candidates">
					<input type="radio" name="c.id" ng-show="q.q.type === 'yes or no'" ng-value="{{c.id}}"/><label ng-show="q.q.type === 'yes or no'">{{c.body}}</label>
					<input type="checkbox" ng-show="q.q.type === 'pick two'" ng-value="{{c.id}}"/><label ng-show="q.q.type==='pick two'">{{c.body}}</label>
					<input type="text" ng-show="q.q.type === 'instant runoff'"/><label ng-show="q.q.type === 'instant runoff'"> {{c.body}} </label>
					</li>
					<li ng-if="q.q.type === 'pick two'">
						<input type="checkbox"/><input class="writein" type="text" value="write-in"/>
					</li>
					<li ng-if="q.q.type === 'instant runoff'">
						<input type="text"/><input class="writein" type="text" value="write-in"/>
					</li>
				</ol>
			</div>
			<button ng-click="submitVote()">Submit your ballot </button>
			<p> You can resubmit your vote at any point before the election close date. </p>
		</div>
	</script>
	<script type="text/ng-template" id="results.html">
	</script>
	</body>
	</html>